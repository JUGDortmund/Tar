(function(){!function(a){var b,c,d;return a("#calendar").length>0?(b=function(b){return a(b).is(":checked")},d=a("#calendar").data("lang"),c=a("#calendar").data("dateformat").replace(/d/g,"D").replace(/y/g,"Y"),a("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek"},defaultView:"month",lang:d,weekends:!0,eventLimit:!0,weekNumbers:!0,firstDay:1,eventSources:[{url:"/calendar",data:function(){return{showApproved:a("#showApproved").is(":checked"),showPending:a("#showPending").is(":checked"),showRejected:a("#showRejected").is(":checked"),showCanceled:a("#showCanceled").is(":checked")}}}],eventDataTransform:function(a){switch(a.state){case"approved":a.color="#008d4c";break;case"pending-approvement":a.color="#f39c12";break;case"pending-substitute":a.color="#f39c12";break;case"rejected":a.color="#dd4b39";break;case"canceled":a.color="#ca195a";break;default:a.color="#00f"}return a.displayedEnd=moment(a.end),a.allDay&&(a.end=moment(a.end).add(1,"days")),a},eventClick:function(b,c,d){var e,f,g;return"VACATION"===b.type?(e=a("#vacationDetail"),e.find(".user").text(b.userFirstName+" "+b.userLastName),e.find(".state").text(b.state),e.find(".time").text(b.allDay?b.start.format("DD.MM.YYYY")+" - "+b.displayedEnd.format("DD.MM.YYYY"):b.start.format("DD.MM.YYYY HH:mm")+" - "+b.displayedEnd.format("DD.MM.YYYY HH:mm")),g=null!=b.substituteFirstName&&null!=b.substituteLastName?b.substituteFirstName+" "+b.substituteLastName:"-",e.find(".substitute").text(g),f=null!=b.managerFirstName&&null!=b.managerLastName?b.managerFirstName+" "+b.managerLastName:"-",e.find(".manager").text(f),e.show(),a("#sidebar").addClass("active"),a(".panel-default").matchHeight()):(e=a("#vacationDetail"),e.hide())}}),a("#calendarFilter .checkbox input").on("click",function(){return a("#calendar").fullCalendar("refetchEvents")})):void 0}(jQuery)}).call(this),function(){!function(a){return a.fn.datepicker.dates.en={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"},a.fn.datepicker.dates.de={days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],daysShort:["Son","Mon","Die","Mit","Don","Fre","Sam","Son"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa","So"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",clear:"Löschen",weekStart:1}}(jQuery)}.call(this),function(){var a,b,c,d,e,f,g,h;d=function(){return $("#language").select2({minimumResultsForSearch:1/0})},g=function(){var a;return a=document.documentElement.clientWidth,761>a?$("html, body").animate({scrollTop:$("#vacation-form-panel").offset().top},"slow"):void 0},a=function(){return $(".flip").click(function(){$(".card").toggleClass("flipped"),setTimeout(function(){$(".card .front").toggleClass("invisible"),$(".card .back").toggleClass("invisible")},180)})},f=function(e){var f;return f=$("#vacation-form-panel"),f.html(e).hide().fadeIn(800),$(".panel-default").matchHeight(),c(),f.find("select").select2(),g(),a(),d(),b(),h()},e=function(a){var b,c;return b=$("label.vacationDays"),c=$("label.remainingDays"),b.text(a.vacationDays),c.text(a.remainingDays)},h=function(){return $("#halfDay").on("change",function(){return $(this).is(":checked")?(isNaN($(".input-group.date.dateTo").datepicker("getDate").valueOf())||$(".input-group.date.dateTo").datepicker("update",$(".input-group.date.dateFrom").datepicker("getDate")),$("#dateToBox").hide(),$("#halfDayBox").show()):($("#dateToBox").show(),$("#halfDayBox").hide())})},c=function(){return $(".input-group.date").each(function(){var a;return a=$(this),a.datepicker({format:a.data("dateformat").replace(/M/g,"m"),autoclose:!0,language:a.data("lang"),weekStart:1,daysOfWeekDisabled:"0,6",todayHighlight:!0}),a.hasClass("dateFrom")?a.on("changeDate",function(){return isNaN($(".input-group.date.dateTo").datepicker("getDate").valueOf())||$("#halfDay").is(":checked")?$(".input-group.date.dateTo").datepicker("update",$(this).datepicker("getDate")):void 0}):void 0})},b=function(){return $('form input[id="dateFrom"], form input[id="dateTo"], form input[id="halfDay"]').change(function(){return $.ajax({url:"updateVacationForm",method:"POST",dataType:"json",data:{id:$('form > input[id="id"][type="hidden"]').val(),from:$('form input[id="dateFrom"]').val(),to:$('form input[id="dateTo"]').val(),halfDay:$('form input[id="halfDay"]').is(":checked"),_csrf:$('form.vacationForm > input[name="_csrf"][type="hidden"]').val(),user:$('form.vacationForm input[id="user"], form.vacationForm select > option[selected="selected"]').val()},error:function(a,b,c){return console.log(b)},success:function(a){return e(a)}})})},function(e){return c(),d(),e('[data-toggle="tooltip"]').tooltip(),e(".panel-default select").select2(),e(".autosubmit").on("change",function(){return e(this).closest("form").submit()}),e(".panel-default").matchHeight(),a(),e('[data-toggle="filter"]').click(function(){var a,b;if(e(".offcanvas-filter").toggleClass("active"),e(".offcanvas-filter").hasClass("active")){if(a=e("#filter-form-panel"),null!==a&&a.hide().show(),b=e("#entry-form-panel"),null!==b)return b.hide()}else if(a=e("#filter-form-panel"),null!==a&&a.hide(),b=e("#entry-form-panel"),null!==b)return b.hide()}),e(".edit-vacation a, .approve-vacation a, #newVacation").click(function(){return e.ajax({url:e(this).attr("href"),dataType:"html",error:function(a,b,c){return console.log(b)},success:function(a){return f(a)}}),!1}),b(),h()}(jQuery)}.call(this),function(){var a,b,c,d,e;c=function(){var a;return a=document.documentElement.clientWidth,761>a?$("html, body").animate({scrollTop:$("#entry-form-panel").offset().top-20},"slow"):void 0},e=function(f){var g,h;return g=$("#filter-form-panel"),g.hide(),h=$("#entry-form-panel"),h.html(f).hide().show(),c(),$(".offcanvas-filter").show(),h.find("select.strict").select2({minimumResultsForSearch:1/0}),h.find("select.searchable").select2(),$("#year").on("change",function(){var a;return a=$(this).closest("form"),d(a.attr("action"),a.serialize(),"POST")}),$("#submitEntry").on("click",function(){var c;return c=$(this).closest("form"),$.ajax({url:c.attr("action"),data:c.serialize(),dataType:"html",method:"POST",error:function(a,b,c){return 500===a.status?e(a.responseText):console.log(c)},success:function(c){return b(c),a()}}),!1}),$("#saveManualEntry").submit(function(a){return a.preventDefault(a)})},a=function(){var a,b;return b=$("#entry-form-panel"),b.hide(),a=$("#filter-form-panel"),a.hide().show()},b=function(a){var b,c;return c=$(".panel-collapse:visible").closest(".panel"),c.replaceWith(a),b=$('input[name="index"]').val(),$("#collapse"+b).addClass("in"),$(".manual-entry").click(function(){return d($(this).attr("href"),null,"GET")})},d=function(a,b,c){return $.ajax({url:a,data:b,dataType:"html",method:c,error:function(a,b,c){return console.log(b)},success:function(a){return e(a)}}),!1},function(b){return a(),b('[data-toggle="tooltip"]').tooltip(),b("#employees").select2(),b("#employees").off("select2-opening"),b(".select2-search__field").focus(),b("#employees").on("select2:unselecting",function(a){b(this).data("state","unselected")}),b("#employees").on("select2:opening ",function(a){"unselected"===b(this).data("state")&&(b(this).removeData("state"),a.preventDefault())}),b("#clear").on("click",function(a){b("#employees").val(null).trigger("change")}),b(".manual-entry").click(function(){return d(b(this).attr("href"),null,"GET")})}(jQuery)}.call(this);